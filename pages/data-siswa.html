<!DOCTYPE html>
<html class="scroll-smooth" lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard Guru — Didaktika AI</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <!-- HTML2PDF Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" xintegrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
          },
          colors: {
            brand: {
              bg: '#F8FAFC',      
              primary: '#2563EB', 
              secondary: '#4F46E5', 
              accent: '#06B6D4',  
            }
          },
          animation: {
            'pulse-soft': 'pulse-soft 6s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            'float-slow': 'float 8s ease-in-out infinite',
            'float-slower': 'float 12s ease-in-out infinite reverse',
            'blob': 'blob 7s infinite',
          },
          keyframes: {
            'pulse-soft': {
              '0%, 100%': { opacity: 0.8 },
              '50%': { opacity: 0.5 },
            },
            float: {
              '0%, 100%': { transform: 'translateY(0)' },
              '50%': { transform: 'translateY(-20px)' },
            },
            blob: {
              "0%": { transform: "translate(0px, 0px) scale(1)" },
              "33%": { transform: "translate(30px, -50px) scale(1.1)" },
              "66%": { transform: "translate(-20px, 20px) scale(0.9)" },
              "100%": { transform: "translate(0px, 0px) scale(1)" }
            }
          }
        },
      },
    }
  </script>
  <style>
    /* CSS Variables untuk tema Light/Dark */
    :root {
      --grid-color: rgba(148, 163, 184, 0.15); /* Sedikit dipertebal untuk proyektor */
      --glass-bg: rgba(255, 255, 255, 0.95); /* Lebih solid untuk proyektor */
      --glass-border: rgba(255, 255, 255, 0.8);
      --glass-shadow: rgba(31, 38, 135, 0.08);
      --pattern-opacity: 0.08; /* Opacity pattern */
    }

    .dark {
      --grid-color: rgba(255, 255, 255, 0.08);
      --glass-bg: rgba(15, 23, 42, 0.9); 
      --glass-border: rgba(255, 255, 255, 0.15);
      --glass-shadow: rgba(0, 0, 0, 0.4);
      --pattern-opacity: 0.05;
    }

    /* Background Grid */
    .bg-grid-slate {
      background-size: 40px 40px;
      background-image: linear-gradient(to right, var(--grid-color) 1px, transparent 1px),
                        linear-gradient(to bottom, var(--grid-color) 1px, transparent 1px);
      mask-image: linear-gradient(to bottom, transparent, black, transparent);
      -webkit-mask-image: linear-gradient(to bottom, transparent 2%, black 10%, black 90%, transparent); 
    }

    /* Side Decoration Gradient Masks */
    .mask-fade-right {
        -webkit-mask-image: linear-gradient(to right, black, transparent);
        mask-image: linear-gradient(to right, black, transparent);
    }
    .mask-fade-left {
        -webkit-mask-image: linear-gradient(to left, black, transparent);
        mask-image: linear-gradient(to left, black, transparent);
    }

    /* Glass Card Style */
    .glass-card {
        background: var(--glass-bg);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border: 1px solid var(--glass-border);
        box-shadow: 0 8px 32px 0 var(--glass-shadow);
        transition: all 0.3s ease;
    }

    .glass-card:hover {
        transform: translateY(-2px);
        border-color: #3B82F6;
    }
    
    .dark .glass-card:hover {
        border-color: #60A5FA;
    }

    /* Custom Scrollbar */
    .custom-scrollbar::-webkit-scrollbar {
        height: 8px;
        width: 8px;
    }
    .custom-scrollbar::-webkit-scrollbar-track {
        background: transparent;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb {
        background: #94a3b8; 
        border-radius: 4px;
    }
    .dark .custom-scrollbar::-webkit-scrollbar-thumb {
        background: #475569;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: #64748b;
    }
  </style>
</head>
<body class="bg-slate-50 text-slate-900 font-sans antialiased overflow-x-hidden selection:bg-indigo-100 selection:text-indigo-900 dark:bg-slate-950 dark:text-slate-100 dark:selection:bg-cyan-900 dark:selection:text-cyan-100 transition-colors duration-300 relative">

  <!-- Left Side: Academic Icons Pattern (Visible on XL screens and up) -->
  <div class="fixed left-0 top-0 bottom-0 w-64 hidden xl:flex flex-col justify-center items-center pointer-events-none z-0 overflow-hidden opacity-40 dark:opacity-30 mask-fade-right">
      <!-- Icons floating vertically -->
      <div class="absolute top-[10%] left-8 text-slate-400 dark:text-slate-600 animate-float-slow">
          <i data-lucide="book-open" class="w-20 h-20 opacity-20"></i>
      </div>
      <div class="absolute top-[30%] left-20 text-blue-400 dark:text-blue-800 animate-float-slower">
          <i data-lucide="graduation-cap" class="w-16 h-16 opacity-20"></i>
      </div>
      <div class="absolute bottom-[40%] left-6 text-indigo-400 dark:text-indigo-800 animate-float-slow">
          <i data-lucide="brain-circuit" class="w-24 h-24 opacity-10"></i>
      </div>
      <div class="absolute bottom-[10%] left-12 text-slate-400 dark:text-slate-600 animate-float-slower">
          <i data-lucide="lightbulb" class="w-16 h-16 opacity-20"></i>
      </div>
      <!-- Vertical Line Decoration -->
      <div class="absolute left-0 top-0 bottom-0 w-px bg-gradient-to-b from-transparent via-slate-300 dark:via-slate-700 to-transparent opacity-50"></div>
  </div>

  <!-- Right Side: Tech/AI Pattern (Visible on XL screens and up) -->
  <div class="fixed right-0 top-0 bottom-0 w-64 hidden xl:flex flex-col justify-center items-center pointer-events-none z-0 overflow-hidden opacity-40 dark:opacity-30 mask-fade-left">
      <!-- Abstract Tech Nodes -->
      <div class="absolute top-[15%] right-8 text-cyan-400 dark:text-cyan-800 animate-float-slower">
          <svg class="w-20 h-20 opacity-20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1"><circle cx="12" cy="12" r="10"/><path d="M12 2v20M2 12h20"/></svg>
      </div>
      <div class="absolute top-[40%] right-20 text-emerald-400 dark:text-emerald-800 animate-float-slow">
          <svg class="w-16 h-16 opacity-20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/></svg>
      </div>
      <div class="absolute bottom-[20%] right-10 text-slate-400 dark:text-slate-600 animate-float-slower">
          <i data-lucide="network" class="w-20 h-20 opacity-20"></i>
      </div>
      <!-- Vertical Line Decoration -->
      <div class="absolute right-0 top-0 bottom-0 w-px bg-gradient-to-b from-transparent via-slate-300 dark:via-slate-700 to-transparent opacity-50"></div>
  </div>

  <!-- CENTER BACKGROUND GLOW (Supports the main content) -->
  <div class="fixed inset-0 z-0 pointer-events-none overflow-hidden">
    <div class="absolute inset-0 bg-grid-slate transition-colors duration-300 opacity-60"></div>
    <!-- Soft Gradients for Vignette Effect on Widescreen -->
    <div class="absolute inset-y-0 left-0 w-1/4 bg-gradient-to-r from-slate-50 to-transparent dark:from-slate-950 dark:to-transparent z-10 hidden 2xl:block"></div>
    <div class="absolute inset-y-0 right-0 w-1/4 bg-gradient-to-l from-slate-50 to-transparent dark:from-slate-950 dark:to-transparent z-10 hidden 2xl:block"></div>
    
    <!-- Blobs centered behind main content area -->
    <div class="absolute top-0 left-1/2 -translate-x-1/2 w-[800px] h-[600px] bg-blue-400/10 dark:bg-blue-600/10 rounded-full blur-[120px] animate-pulse-soft"></div>
  </div>

  <!-- Navigation -->
  <header class="fixed top-0 left-0 right-0 z-50 bg-white/90 dark:bg-slate-950/90 backdrop-blur-xl border-b border-white/50 dark:border-white/10 transition-all duration-300 shadow-sm">
    <nav class="max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between">
      <a href="index.html" class="flex items-center gap-3 group">
        <div class="relative h-9 w-9">
            <div class="absolute inset-0 bg-gradient-to-tr from-blue-700 to-cyan-600 rounded-lg transform rotate-6 transition-transform group-hover:rotate-12"></div>
            <div class="absolute inset-0 bg-white dark:bg-slate-900 rounded-lg border-2 border-transparent flex items-center justify-center text-blue-700 dark:text-cyan-400 font-bold z-10">D</div>
        </div>
        <span class="text-xl font-bold text-slate-900 dark:text-white tracking-tight">Didaktika<span class="text-blue-700 dark:text-cyan-400">AI</span></span>
      </a>
      
      <div class="flex items-center gap-6">
        <ul class="hidden md:flex items-center gap-8 text-sm font-bold text-slate-700 dark:text-slate-200">
            <li><a href="fitur.html" class="hover:text-blue-700 dark:hover:text-cyan-400 transition-colors duration-300">Fitur</a></li>
            <li><a href="cara-kerja.html" class="hover:text-blue-700 dark:hover:text-cyan-400 transition-colors duration-300">Cara kerja</a></li>
            <li><a href="Tentang.html" class="hover:text-blue-700 dark:hover:text-cyan-400 transition-colors duration-300">Tentang</a></li>
        </ul>

        <button id="theme-toggle" class="p-2 rounded-full text-slate-600 hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-800 transition-colors focus:outline-none ring-1 ring-slate-200 dark:ring-slate-700">
            <svg id="theme-toggle-light-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 100 2h1z" clip-rule="evenodd"></path></svg>
            <svg id="theme-toggle-dark-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
        </button>
        
        <div class="h-8 w-8 rounded-full bg-gradient-to-br from-indigo-600 to-cyan-600 p-[1px] cursor-pointer hidden sm:block">
            <a href="info guru.html" class="h-full w-full rounded-full bg-white dark:bg-slate-900 flex items-center justify-center text-xs font-bold text-blue-700 dark:text-cyan-400 hover:bg-slate-100 transition-colors">
                SW
            </a>
        </div>
      </div>
    </nav>
  </header>

  <main class="relative z-10 pt-24 pb-20 max-w-[1800px] mx-auto px-6 lg:px-10">
    
    <!-- Dashboard Header -->
    <div class="mb-10 flex flex-col md:flex-row md:items-end justify-between gap-6" data-aos="fade-down">
        <div>
            <div class="flex items-center gap-2 mb-2 text-sm font-semibold text-slate-500 dark:text-slate-400 bg-slate-200 dark:bg-slate-800/50 w-fit px-3 py-1 rounded-full">
              <i data-lucide="calendar" class="w-4 h-4"></i>
              <span id="today"></span>
            </div>
            <h1 class="text-3xl font-extrabold text-slate-900 dark:text-white mb-2">Ikhtisar Kelas X RPL 1</h1>
            <p class="text-slate-700 dark:text-slate-300 font-medium">Pantau perkembangan siswa dan efektivitas adaptasi AI secara real-time.</p>
        </div>
        <div class="flex gap-3">
            <button id="refresh" class="inline-flex items-center gap-2 bg-white dark:bg-slate-800 hover:bg-slate-100 dark:hover:bg-slate-700 border border-slate-300 dark:border-slate-600 text-slate-800 dark:text-slate-200 px-4 py-2 rounded-lg text-sm font-bold transition-all shadow-sm">
                <i data-lucide="rotate-cw" class="w-4 h-4"></i>
                Muat Ulang
            </button>
            <button onclick="exportPDF()" class="inline-flex items-center gap-2 bg-white dark:bg-slate-800 hover:bg-slate-100 dark:hover:bg-slate-700 border border-slate-300 dark:border-slate-600 text-slate-800 dark:text-slate-200 px-4 py-2 rounded-lg text-sm font-bold transition-all shadow-sm">
                <i data-lucide="download" class="w-4 h-4"></i>
                Ekspor Laporan
            </button>
            <a href="Halaman pembelajaran.html" class="inline-flex items-center gap-2 bg-blue-700 hover:bg-blue-800 dark:bg-cyan-600 dark:hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm font-bold transition-all shadow-md shadow-blue-500/20 dark:shadow-cyan-500/20">
                <i data-lucide="book-open" class="w-4 h-4"></i>
                Materi Pembelajaran
            </a>
        </div>
    </div>

    <section class="grid grid-cols-1 xl:grid-cols-4 gap-8">
      
      <!-- Left column: AI insights + Stats (STICKY SIDEBAR) -->
      <aside class="xl:col-span-1 space-y-6 sticky top-24 self-start">
        
        <!-- Quick Stats Card -->
        <div class="glass-card rounded-2xl p-6" data-aos="fade-right">
          <h3 class="text-sm font-bold text-slate-700 dark:text-slate-300 uppercase tracking-wider mb-4">Statistik Kelas</h3>
          <div class="grid grid-cols-2 gap-4">
             <div class="p-3 bg-white dark:bg-slate-800/50 rounded-xl border border-slate-300 dark:border-slate-700 shadow-sm">
                 <p class="text-xs font-bold text-slate-600 dark:text-slate-400 mb-1">Total Siswa</p>
                 <p class="text-2xl font-extrabold text-slate-900 dark:text-white">10</p>
             </div>
             <div class="p-3 bg-white dark:bg-slate-800/50 rounded-xl border border-slate-300 dark:border-slate-700 shadow-sm">
                 <p class="text-xs font-bold text-slate-600 dark:text-slate-400 mb-1">Rerata Nilai</p>
                 <p class="text-2xl font-extrabold text-emerald-600 dark:text-emerald-400">70%</p>
             </div>
             <div class="p-3 bg-white dark:bg-slate-800/50 rounded-xl border border-slate-300 dark:border-slate-700 shadow-sm">
                 <p class="text-xs font-bold text-slate-600 dark:text-slate-400 mb-1">Perlu Bantuan</p>
                 <p class="text-2xl font-extrabold text-rose-600 dark:text-rose-400">3</p>
             </div>
             <div class="p-3 bg-white dark:bg-slate-800/50 rounded-xl border border-slate-300 dark:border-slate-700 shadow-sm">
                 <p class="text-xs font-bold text-slate-600 dark:text-slate-400 mb-1">Peningkatan</p>
                 <p class="text-2xl font-extrabold text-cyan-700 dark:text-cyan-400">5</p>
             </div>
          </div>
        </div>

        <!-- AI Insights Card -->
        <div class="glass-card rounded-2xl p-6" data-aos="fade-right" data-aos-delay="100">
          <div class="flex items-center gap-3 mb-4">
            <div class="p-2 bg-indigo-100 dark:bg-indigo-500/20 rounded-lg text-indigo-700 dark:text-indigo-400">
                <i data-lucide="sparkles" class="w-5 h-5"></i>
            </div>
            <h2 class="text-lg font-extrabold text-slate-900 dark:text-white">Wawasan AI</h2>
          </div>
          
          <div class="bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-500/30 rounded-xl p-4 mb-4">
              <p class="text-sm text-indigo-800 dark:text-indigo-300 font-bold mb-1">Perhatian Diperlukan</p>
              <p class="text-xs text-indigo-700 dark:text-indigo-200 font-medium">3 siswa memerlukan dukungan terarah pada konsep abstrak.</p>
          </div>

          <ul class="space-y-4">
            <li class="flex gap-3 text-sm text-slate-800 dark:text-slate-200 font-medium">
                <span class="mt-1 w-1.5 h-1.5 rounded-full bg-cyan-600 dark:bg-cyan-400 flex-shrink-0"></span>
                <span class="leading-relaxed">Penjelasan <span class="font-bold text-black dark:text-white">Visual</span> efektif untuk 40% kelas.</span>
            </li>
            <li class="flex gap-3 text-sm text-slate-800 dark:text-slate-200 font-medium">
                <span class="mt-1 w-1.5 h-1.5 rounded-full bg-cyan-600 dark:bg-cyan-400 flex-shrink-0"></span>
                <span class="leading-relaxed">Rata-rata pemahaman meningkat <span class="text-emerald-700 dark:text-emerald-400 font-bold">12%</span> minggu ini.</span>
            </li>
          </ul>
        </div>

        <!-- NEW: Distribution Chart Widget (Donut Style Visualization) -->
        <div class="glass-card rounded-2xl p-6" data-aos="fade-right" data-aos-delay="200">
            <h3 class="text-sm font-bold text-slate-700 dark:text-slate-300 uppercase tracking-wider mb-6">Distribusi Gaya Belajar</h3>
            
            <div class="flex items-center justify-center mb-6">
                <!-- SVG Chart Visualization -->
                <div class="relative w-48 h-48">
                    <svg viewBox="0 0 36 36" class="w-full h-full transform -rotate-90">
                        <!-- Background Circle -->
                        <path class="text-slate-200 dark:text-slate-700" 
                            d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" 
                            fill="none" stroke="currentColor" stroke-width="3.8" />
                        
                        <!-- Visual Segment (60%) -->
                        <path class="text-cyan-500 dark:text-cyan-400 drop-shadow-md" 
                            stroke-dasharray="60, 100" 
                            d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" 
                            fill="none" stroke="currentColor" stroke-width="3.8" />
                            
                        <!-- Auditory Segment (25%) - Offset 60 -->
                        <path class="text-indigo-500 dark:text-indigo-400 drop-shadow-md" 
                            stroke-dasharray="25, 100" stroke-dashoffset="-60"
                            d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" 
                            fill="none" stroke="currentColor" stroke-width="3.8" />
                            
                        <!-- Kinesthetic Segment (15%) - Offset 85 -->
                        <path class="text-rose-500 dark:text-rose-400 drop-shadow-md" 
                            stroke-dasharray="15, 100" stroke-dashoffset="-85"
                            d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" 
                            fill="none" stroke="currentColor" stroke-width="3.8" />
                    </svg>
                    
                    <!-- Center Label -->
                    <div class="absolute inset-0 flex flex-col items-center justify-center">
                        <span class="text-3xl font-extrabold text-slate-800 dark:text-white">10</span>
                        <span class="text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wide">Siswa</span>
                    </div>
                </div>
            </div>

            <!-- Legend -->
            <div class="space-y-3">
                <div class="flex items-center justify-between text-sm">
                    <div class="flex items-center gap-2">
                        <div class="w-3 h-3 rounded-full bg-cyan-500 dark:bg-cyan-400"></div>
                        <span class="font-medium text-slate-700 dark:text-slate-300">Visual</span>
                    </div>
                    <span class="font-bold text-slate-900 dark:text-white">60%</span>
                </div>
                <div class="flex items-center justify-between text-sm">
                    <div class="flex items-center gap-2">
                        <div class="w-3 h-3 rounded-full bg-indigo-500 dark:bg-indigo-400"></div>
                        <span class="font-medium text-slate-700 dark:text-slate-300">Auditori</span>
                    </div>
                    <span class="font-bold text-slate-900 dark:text-white">25%</span>
                </div>
                <div class="flex items-center justify-between text-sm">
                    <div class="flex items-center gap-2">
                        <div class="w-3 h-3 rounded-full bg-rose-500 dark:bg-rose-400"></div>
                        <span class="font-medium text-slate-700 dark:text-slate-300">Kinestetik</span>
                    </div>
                    <span class="font-bold text-slate-900 dark:text-white">15%</span>
                </div>
            </div>
        </div>

      </aside>

      <!-- Right column: Data Table Only (Expanded) -->
      <section class="xl:col-span-3 space-y-6" data-aos="fade-up" data-aos-delay="100">
        
        <!-- Table Card -->
        <div class="glass-card rounded-2xl overflow-hidden shadow-md">
          <div class="p-6 border-b border-slate-300 dark:border-slate-700 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-slate-100/50 dark:bg-slate-900/30">
            <div>
                <h2 class="text-lg font-bold text-slate-900 dark:text-white">Detail Kinerja Siswa</h2>
                <p class="text-sm text-slate-700 dark:text-slate-400 mt-1 font-medium">Analisis mendalam berdasarkan modalitas belajar.</p>
            </div>
            <div class="flex gap-2">
                <span class="inline-flex items-center px-3 py-1 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 text-xs font-bold border border-blue-200 dark:border-blue-800 shadow-sm">
                    Semester Ganjil
                </span>
            </div>
          </div>

          <!-- Table Container -->
          <div id="laporan-pdf" class="overflow-x-auto custom-scrollbar">
            <table class="w-full text-left border-collapse">
              <thead class="bg-slate-200 dark:bg-slate-900/50 text-slate-700 dark:text-slate-300 text-xs uppercase tracking-wider font-bold border-b border-slate-300 dark:border-slate-700">
                <tr>
                  <th scope="col" class="px-6 py-4">Siswa</th>
                  <th scope="col" class="px-6 py-4">Pemahaman</th>
                  <th scope="col" class="px-6 py-4">Status</th>
                  <th scope="col" class="px-6 py-4">Gaya Belajar</th>
                  <th scope="col" class="px-6 py-4 min-w-[200px]">Rekomendasi AI</th>
                </tr>
              </thead>
              <tbody id="student-table-body" class="divide-y divide-slate-200 dark:divide-slate-700/50 text-sm bg-white dark:bg-transparent">
                <!-- Rows will be populated by JS -->
              </tbody>
            </table>
          </div>
          
          <!-- Table Footer (Pagination Removed - Showing All) -->
          <div class="px-6 py-4 border-t border-slate-300 dark:border-slate-700 flex items-center justify-between bg-slate-100 dark:bg-slate-900/30">
              <span id="pagination-info" class="text-xs font-medium text-slate-700 dark:text-slate-400">Menampilkan semua data siswa</span>
          </div>
        </div>

      </section>
    </section>
  </main>

  <!-- Footer -->
  <footer class="bg-white dark:bg-slate-900 border-t border-slate-300 dark:border-slate-800 relative overflow-hidden mt-12 transition-colors">
    <div class="max-w-[1800px] mx-auto px-6 lg:px-10 py-8 relative z-10">
      <div class="text-center">
        <p class="text-sm font-medium text-slate-700 dark:text-slate-400">
            Hanya demo — Antarmuka konseptual untuk menggambarkan wawasan AI dalam pendidikan inklusif.
        </p>
        <div class="mt-4 text-xs font-bold text-slate-600 dark:text-slate-600">
            © 2026 DidaktikaAI. Hak cipta dilindungi.
        </div>
      </div>
    </div>
  </footer>

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    // Init Lucide Icons
    lucide.createIcons();

    // Init AOS
    AOS.init({
        once: true,
        duration: 800,
        easing: 'ease-out-cubic',
    });

    // Dark Mode Toggle Logic
    const themeToggleBtn = document.getElementById('theme-toggle');
    const themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
    const themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');

    if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        themeToggleLightIcon.classList.remove('hidden');
        document.documentElement.classList.add('dark');
    } else {
        themeToggleDarkIcon.classList.remove('hidden');
        document.documentElement.classList.remove('dark');
    }

    themeToggleBtn.addEventListener('click', function() {
        themeToggleDarkIcon.classList.toggle('hidden');
        themeToggleLightIcon.classList.toggle('hidden');

        if (localStorage.getItem('color-theme')) {
            if (localStorage.getItem('color-theme') === 'light') {
                document.documentElement.classList.add('dark');
                localStorage.setItem('color-theme', 'dark');
            } else {
                document.documentElement.classList.remove('dark');
                localStorage.setItem('color-theme', 'light');
            }
        } else {
            if (document.documentElement.classList.contains('dark')) {
                document.documentElement.classList.remove('dark');
                localStorage.setItem('color-theme', 'light');
            } else {
                document.documentElement.classList.add('dark');
                localStorage.setItem('color-theme', 'dark');
            }
        }
    });

    // Export PDF Function
    function exportPDF() {
      const element = document.getElementById("laporan-pdf");
      const opt = {
        margin: 0.5,
        filename: 'Laporan_Kelas_X_RPL_1.pdf',
        image: { type: 'jpeg', quality: 0.98 },
        html2canvas: { scale: 2 },
        jsPDF: { unit: 'in', format: 'a4', orientation: 'portrait' }
      };
      html2pdf().set(opt).from(element).save();
    }

    // Refresh Mock Data Animation (Optional Polish)
    if (document.getElementById("refresh")) {
      document.getElementById("refresh").addEventListener("click", () => {
          const btn = document.getElementById("refresh");
          const originalContent = btn.innerHTML;
          
          btn.disabled = true;
          btn.innerHTML = `<i data-lucide="loader-2" class="w-4 h-4 animate-spin"></i> Memuat...`;
          lucide.createIcons();

          setTimeout(() => {
              btn.innerHTML = originalContent;
              btn.disabled = false;
              lucide.createIcons();
              // In a real app, this would fetch new data.
              // For demo, we just simulate the loading state.
          }, 1500);
      });
    }

    // Initial Date (with safety check)
    const todayEl = document.getElementById("today");
    if(todayEl) {
        todayEl.textContent = new Date().toLocaleDateString('id-ID', { weekday: 'long', year: 'numeric', month: 'short', day: 'numeric' });
    }

    // --- STUDENT DATA LOGIC (SHOW ALL) ---
    
    // Full dataset: 10 students
    const studentsData = [
      { name: "Alex Morgan", initials: "AM", time: "Online 2 jam lalu", score: 80, status: "Meningkat", style: "Verbal", rec: "Merespons baik pada ringkasan lisan.", bg: "from-indigo-500 to-purple-600", bar: "from-emerald-500 to-teal-400" },
      { name: "Aisha Patel", initials: "AP", time: "Online kemarin", score: 72, status: "Stabil", style: "Visual", rec: "Sangat efektif dengan diagram alur.", bg: "from-cyan-500 to-teal-500", bar: "from-cyan-500 to-blue-500" },
      { name: "Javier Gómez", initials: "JG", time: "Online 3 hari lalu", score: 58, status: "Perlu Bantuan", style: "Verbal", rec: "Kesulitan konsep abstrak, coba analogi.", bg: "bg-slate-700", bar: "bg-rose-500", avatarText: "text-slate-300", border: "border-slate-600" },
      { name: "Hannah Lee", initials: "HL", time: "Online hari ini", score: 90, status: "Sangat Baik", style: "Campuran", rec: "Berikan tantangan/materi pengayaan.", bg: "from-pink-500 to-rose-500", bar: "from-emerald-500 to-green-400" },
      { name: "Oluwaseun", initials: "OL", time: "Online 2 hari lalu", score: 65, status: "Stabil", style: "Verbal", rec: "Perlu latihan tambahan (drill).", bg: "from-orange-500 to-amber-500", bar: "from-cyan-500 to-blue-500" },
      { name: "Yuki Tanaka", initials: "YT", time: "Online 4 hari lalu", score: 48, status: "Perlu Bantuan", style: "Visual", rec: "Sederhanakan visual, kurangi teks.", bg: "bg-slate-700", bar: "bg-rose-500", avatarText: "text-slate-300", border: "border-slate-600" },
      { name: "Marta Kowalski", initials: "MK", time: "Online kemarin", score: 77, status: "Stabil", style: "Campuran", rec: "Gunakan contoh soal yang dikerjakan.", bg: "from-purple-500 to-fuchsia-500", bar: "from-indigo-500 to-purple-500" },
      { name: "Rina Suryani", initials: "RS", time: "Online 1 jam lalu", score: 85, status: "Meningkat", style: "Visual", rec: "Berikan infografis tambahan.", bg: "from-emerald-500 to-teal-500", bar: "from-emerald-500 to-teal-400" },
      { name: "Budi Santoso", initials: "BS", time: "Online 5 hari lalu", score: 60, status: "Perlu Bantuan", style: "Kinestetik", rec: "Libatkan dalam demonstrasi fisik.", bg: "bg-slate-700", bar: "bg-rose-500", avatarText: "text-slate-300", border: "border-slate-600" },
      { name: "Siti Aminah", initials: "SA", time: "Online hari ini", score: 95, status: "Sangat Baik", style: "Auditori", rec: "Fasilitator diskusi kelompok.", bg: "from-blue-500 to-indigo-500", bar: "from-blue-500 to-indigo-400" }
    ];

    // Show 10 items (All)
    const itemsPerPage = 10; 

    function getStatusBadge(status) {
        if (status === "Meningkat" || status === "Sangat Baik") {
            return `<span class="inline-flex items-center px-2.5 py-1 rounded-md text-xs font-bold bg-emerald-100 dark:bg-emerald-500/10 text-emerald-800 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-500/20">${status}</span>`;
        } else if (status === "Stabil") {
            return `<span class="inline-flex items-center px-2.5 py-1 rounded-md text-xs font-bold bg-amber-100 dark:bg-amber-500/10 text-amber-800 dark:text-amber-400 border border-amber-200 dark:border-amber-500/20">${status}</span>`;
        } else {
            return `<span class="inline-flex items-center px-2.5 py-1 rounded-md text-xs font-bold bg-rose-100 dark:bg-rose-500/10 text-rose-800 dark:text-rose-400 border border-rose-200 dark:border-rose-500/20 animate-pulse">${status}</span>`;
        }
    }

    function getStyleIcon(style) {
        if (style === "Visual") return `<i data-lucide="image" class="w-4 h-4 text-cyan-600 dark:text-cyan-400"></i>`;
        if (style === "Verbal" || style === "Auditori") return `<i data-lucide="mic" class="w-4 h-4 text-indigo-600 dark:text-indigo-400"></i>`;
        if (style === "Kinestetik") return `<i data-lucide="activity" class="w-4 h-4 text-rose-600 dark:text-rose-400"></i>`;
        return `<span class="text-slate-700 dark:text-slate-300 text-xs font-bold px-2 py-1 bg-slate-200 dark:bg-slate-800 rounded">Campuran</span>`;
    }

    function renderTable() {
        const tbody = document.getElementById("student-table-body");
        tbody.innerHTML = "";

        // Show ALL data
        studentsData.forEach(student => {
            // Determine row background for "Perlu Bantuan"
            let rowClass = "hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors group";
            if (student.status === "Perlu Bantuan") {
                rowClass += " bg-rose-50/50 dark:bg-rose-500/5";
            }

            // Avatar Styling logic
            let avatarHtml = "";
            if (student.bg.startsWith("from-")) {
                avatarHtml = `<div class="w-9 h-9 rounded-full bg-gradient-to-br ${student.bg} flex items-center justify-center text-white font-bold text-xs shadow-md">${student.initials}</div>`;
            } else {
                avatarHtml = `<div class="w-9 h-9 rounded-full ${student.bg} flex items-center justify-center ${student.avatarText} font-bold text-xs border ${student.border}">${student.initials}</div>`;
            }

            const tr = document.createElement("tr");
            tr.className = rowClass;
            tr.innerHTML = `
                <td class="px-6 py-4">
                    <div class="flex items-center gap-3">
                        ${avatarHtml}
                        <div>
                            <div class="font-bold text-slate-900 dark:text-slate-200 group-hover:text-blue-700 dark:group-hover:text-cyan-400 transition-colors">${student.name}</div>
                            <div class="text-xs text-slate-600 dark:text-slate-500 font-medium">${student.time}</div>
                        </div>
                    </div>
                </td>
                <td class="px-6 py-4">
                    <div class="flex items-center gap-2 mb-1">
                        <span class="text-sm font-bold ${student.status === 'Perlu Bantuan' ? 'text-rose-700 dark:text-rose-400' : 'text-slate-900 dark:text-white'}">${student.score}%</span>
                    </div>
                    <div class="w-full bg-slate-300 dark:bg-slate-700/30 rounded-full h-1.5">
                        <div style="width: ${student.score}%;" class="h-1.5 rounded-full ${student.bar.startsWith('from-') ? 'bg-gradient-to-r' : ''} ${student.bar}"></div>
                    </div>
                </td>
                <td class="px-6 py-4">
                    ${getStatusBadge(student.status)}
                </td>
                <td class="px-6 py-4">
                    <div class="flex items-center gap-2">
                        ${getStyleIcon(student.style)}
                        <span class="text-slate-800 dark:text-slate-300 font-medium">${student.style}</span>
                    </div>
                </td>
                <td class="px-6 py-4 text-slate-700 dark:text-slate-400 text-xs font-medium">
                    ${student.rec}
                </td>
            `;
            tbody.appendChild(tr);
        });
        
        // Re-init lucide icons for new elements
        lucide.createIcons();
    }

    // Initial Render
    renderTable();

  </script>
</body>
</html>
