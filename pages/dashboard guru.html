<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DidaktikaAI — Dashboard Guru (Demo)</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background: linear-gradient(135deg, #0f172a 0%, #1e3a8a 25%, #312e81 50%, #4c1d95 75%, #2e1065 100%);
      background-attachment: fixed;
      color: #e5e7eb;
      min-height: 100vh;
    }

    /* Small custom styles for demo polish */
    .card {
      background: linear-gradient(180deg, rgba(30, 41, 59, 0.6), rgba(15, 23, 42, 0.5));
      backdrop-filter: blur(10px);
      border-color: rgba(99, 102, 241, 0.2);
    }
    .glow {
      box-shadow: 0 6px 20px rgba(99, 102, 241, 0.15);
    }
    .bar-bg { background: rgba(99, 102, 241, 0.1); }
    .typewriter { overflow: hidden; white-space: nowrap; }
  </style>
</head>
<body class="text-slate-100 antialiased">
  <header class="sticky top-0 bg-slate-900/60 backdrop-blur z-10 border-b border-indigo-500/20">
    <div class="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between">
      <div class="flex items-center gap-4">
        <div class="p-2 bg-gradient-to-br from-gray-200 to-white rounded-lg text-white shadow">
          <!-- Simple logo -->
         <img src="../assets/img/logo edutech.png" class="w-full h-6">
        </div>
        <div>
          <h1 class="text-lg font-semibold text-slate-100">DidaktikaAI — Dashboard Guru (Demo)</h1>
          <p class="text-sm text-slate-400">Demonstrasi konsep: Pemantauan berbantuan AI & pengajaran adaptif</p>
        </div>
      </div>
      <div class="flex items-center gap-3">
        <div class="text-sm text-slate-400">Tanggal: <time id="today"></time></div>
        <button id="refresh" class="inline-flex items-center gap-2 px-3 py-1.5 bg-indigo-50 text-indigo-700 rounded-md text-sm hover:bg-indigo-100">
          Muat Ulang AI
        </button>
      </div>
    </div>
  </header>

  <main class="max-w-7xl mx-auto px-4 py-8 grid grid-cols-1 lg:grid-cols-3 gap-6">
    <!-- Left column: student + analysis -->
    <section class="lg:col-span-2 space-y-6">
      <!-- Student header card -->
      <article class="card glow rounded-xl p-5 border">
        <div class="flex items-center gap-4">
          <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=400&auto=format&fit=crop&ixlib=rb-4.0.3&s=3b3f1b4e4a8b3ed5f7f2b7e80c8c6cbe" alt="Avatar siswa" class="h-16 w-16 rounded-full object-cover ring-2 ring-indigo-400" />
          <div class="flex-1">
            <h2 class="text-xl font-semibold text-slate-100">Alex Morgan</h2>
            <p class="text-sm text-slate-400">Kelas: 6 • Ruang Kelas: 6B</p>
          </div>
          <div class="text-right">
            <div class="text-xs text-slate-500">Keterlibatan saat ini</div>
            <div id="engagementBadge" class="mt-1 inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-amber-50 text-amber-700">Memuat...</div>
          </div>
        </div>
      </article>

      <!-- Learning Analysis (AI Simulation) -->
      <article class="card glow rounded-xl p-6 border" aria-labelledby="analysis-heading">
        <header class="flex items-start justify-between">
          <div>
            <h3 id="analysis-heading" class="text-lg font-semibold text-slate-100">Analisis Pembelajaran Siswa</h3>
            <p class="text-sm text-slate-400 mt-1">Wawasan AI simulasi terhadap kekuatan, preferensi, dan metode yang direkomendasikan.</p>
          </div>
          <div class="text-sm text-slate-400">Kepercayaan: <span id="confidence">—</span></div>
        </header>

        <div class="mt-5 grid grid-cols-1 md:grid-cols-3 gap-4">
          <!-- Learning style breakdown -->
          <div class="md:col-span-2">
            <div class="flex items-center justify-between">
              <h4 class="text-sm font-medium text-slate-100">Analisis gaya belajar</h4>
              <span id="dominantStyle" class="text-xs text-slate-400">—</span>
            </div>
            <div class="mt-3 space-y-3">
              <!-- Visual -->
              <div>
                <div class="flex justify-between mb-1 text-xs text-slate-400">
                  <span>Visual</span><span id="visualPercent">—</span>
                </div>
                <div class="w-full h-3 rounded-full bar-bg overflow-hidden">
                  <div id="visualBar" class="h-3 rounded-full bg-indigo-400" style="width:0%"></div>
                </div>
              </div>
              <!-- Auditory -->
              <div>
                <div class="flex justify-between mb-1 text-xs text-slate-400">
                  <span>Auditori</span><span id="auditoryPercent">—</span>
                </div>
                <div class="w-full h-3 rounded-full bar-bg overflow-hidden">
                  <div id="auditoryBar" class="h-3 rounded-full bg-emerald-400" style="width:0%"></div>
                </div>
              </div>
              <!-- Kinesthetic -->
              <div>
                <div class="flex justify-between mb-1 text-xs text-slate-400">
                  <span>Kinestetik</span><span id="kinestheticPercent">—</span>
                </div>
                <div class="w-full h-3 rounded-full bar-bg overflow-hidden">
                  <div id="kinestheticBar" class="h-3 rounded-full bg-rose-400" style="width:0%"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- AI generated recommendation summary -->
          <aside class="card rounded-lg p-4 border">
            <div class="text-xs text-slate-400">Rekomendasi AI berdasarkan analisis pola belajar</div>
            <h5 class="mt-2 text-sm font-semibold text-slate-100">Metode pembelajaran yang direkomendasikan</h5>
            <p id="aiRecommendation" class="mt-2 text-sm text-slate-300">Menghasilkan...</p>
          </aside>
        </div>

        <div class="mt-5">
          <h4 class="text-sm font-medium text-slate-100">Rekomendasi Pengajaran Adaptif</h4>
          <p class="text-sm text-slate-400 mt-1">Pendekatan yang disarankan dan penyesuaian konten untuk meningkatkan keterlibatan dan pemahaman.</p>

          <div class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="rounded-lg border p-4 bg-slate-800/50">
              <div class="text-sm font-medium text-slate-100">Pendekatan pengajaran yang disarankan</div>
              <div id="teachingApproach" class="mt-2 text-sm text-slate-300">—</div>
            </div>

            <div class="rounded-lg border p-4 bg-slate-800/50">
              <div class="text-sm font-medium text-slate-100">Penyesuaian konten yang disarankan</div>
              <ul id="contentAdjustments" class="mt-2 text-sm text-slate-300 list-disc list-inside space-y-1">
                <li>—</li>
              </ul>
            </div>
          </div>
        </div>
      </article>

      <!-- Sign Language Interpreter (Demo) -->
      <article class="card glow rounded-xl p-6 border" aria-labelledby="signlang-heading">
        <header class="flex items-start justify-between">
          <div>
            <h3 id="signlang-heading" class="text-lg font-semibold text-slate-100">Penerjemah Bahasa Isyarat AI (Demo)</h3>
            <p class="text-sm text-slate-400 mt-1">Demo konseptual: AI menginterpretasi gerakan isyarat menjadi teks untuk mendukung komunikasi inklusif.</p>
          </div>
        </header>

        <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-4">
          <div class="md:col-span-2 text-sm text-slate-300">
            <p>Demo ini menjelaskan bagaimana penerjemah berbasis AI dapat mengonversi input bahasa isyarat langsung menjadi teks ringkas untuk guru, memungkinkan respons tepat waktu dan inklusi yang lebih baik. Tidak ada pemrosesan kamera nyata yang dilakukan di sini — tombol di bawah menunjukkan keluaran penerjemah simulasi.</p>
          </div>

          <div class="flex flex-col gap-3 items-start">
            <button id="activateInterpreter" class="px-4 py-2 rounded-md bg-indigo-600 text-white hover:bg-indigo-700">Aktifkan Penerjemah AI (Demo)</button>
            <div class="text-xs text-slate-400">Output demo</div>
            <div id="interpreterOutput" class="w-full min-h-[60px] p-3 rounded-md bg-slate-800/50 border border-indigo-500/30 text-sm text-slate-300" aria-live="polite" role="status">
              <em class="text-slate-500">Penerjemah tidak aktif.</em>
            </div>
          </div>
        </div>
      </article>
    </section>

    <!-- Right column: performance & accessibility -->
    <aside class="space-y-6">
      <!-- Performance Overview -->
      <section class="card glow rounded-xl p-5 border" aria-labelledby="performance-heading">
        <h3 id="performance-heading" class="text-lg font-semibold text-slate-100">Gambaran Kinerja Siswa</h3>
        <p class="text-sm text-slate-400 mt-1">Indikator cepat kemajuan akademik dan estimasi tren.</p>

        <div class="mt-4">
          <div class="flex items-baseline justify-between">
            <div>
              <div class="text-xs text-slate-400">Skor estimasi</div>
              <div id="score" class="text-3xl font-bold text-emerald-400">—%</div>
            </div>
            <div class="text-sm text-slate-400 text-right">
              <div>Tren</div>
              <div id="trendBadge" class="mt-1 inline-flex items-center px-3 py-1 rounded-full bg-emerald-500/20 text-emerald-300">—</div>
            </div>
          </div>

          <div class="mt-4">
            <div class="h-3 rounded-full bar-bg overflow-hidden">
              <div id="scoreBar" class="h-3 rounded-full bg-emerald-500" style="width:0%"></div>
            </div>
            <div class="mt-2 text-xs text-slate-400">Kemajuan menuju target semester</div>
          </div>

          <div class="mt-4">
            <div class="h-12 w-full bg-slate-800/50 rounded-lg border border-indigo-500/30 flex items-center justify-center text-sm text-slate-400">
              Tren visual (konsep): <svg class="ml-2 h-6 w-20" viewBox="0 0 100 30" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <polyline id="trendLine" points="0,22 20,18 40,12 60,9 80,6 100,4" stroke="#10B981" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
          </div>
        </div>
      </section>

      <!-- Accessibility & Inclusive Education -->
      <section class="card glow rounded-xl p-5 border" aria-labelledby="access-heading">
        <h3 id="access-heading" class="text-lg font-semibold text-slate-100">Status Aksesibilitas Pembelajaran</h3>
        <p class="text-sm text-slate-400 mt-1">Saran AI dan dukungan aksesibilitas otomatis untuk siswa ini.</p>

        <div class="mt-4 space-y-3">
          <div class="flex items-center justify-between">
            <div>
              <div class="text-sm font-medium text-slate-100">Dukungan Bahasa Isyarat</div>
              <div class="text-xs text-slate-400">Interpretasi real-time & teks (status demo)</div>
            </div>
            <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-500/20 text-emerald-300 text-sm">Diaktifkan</div>
          </div>

          <div class="text-sm text-slate-300">
            <p id="accessExplanation">Untuk memastikan komunikasi inklusif, sistem AI secara otomatis mengaktifkan dukungan interpretasi bahasa isyarat untuk siswa ini.</p>
          </div>

          <div>
            <button id="copyAccessibility" class="px-3 py-1.5 bg-indigo-600 text-white rounded-md text-sm hover:bg-indigo-700">Salin catatan aksesibilitas</button>
          </div>
        </div>
      </section>

      <!-- Quick actions -->
      <section class="card glow rounded-xl p-4 border">
        <h4 class="text-sm font-semibold text-slate-100">Tindakan Guru (Demo)</h4>
        <p class="text-xs text-slate-400 mt-1">Langkah selanjutnya yang disarankan untuk mendukung siswa ini</p>
        <ul class="mt-3 space-y-2 text-sm">
          <li class="flex items-start gap-2">
            <span class="mt-1 text-indigo-400">•</span>
            <div>
              <div class="font-medium text-slate-100">Jadwalkan pertemuan 10 menit</div>
              <div class="text-xs text-slate-400">Dukungan empati yang ditargetkan setelah mengamati keterlibatan rendah.</div>
            </div>
          </li>
          <li class="flex items-start gap-2">
            <span class="mt-1 text-indigo-400">•</span>
            <div>
              <div class="font-medium text-slate-100">Bagikan ringkasan visual</div>
              <div class="text-xs text-slate-400">Prioritaskan diagram dan slide beranotasi untuk siswa ini.</div>
            </div>
          </li>
        </ul>
      </section>
    </aside>
  </main>

  <footer class="max-w-7xl mx-auto px-4 py-6 text-sm text-slate-400">Hanya demo — Ini adalah antarmuka konseptual yang dirancang untuk menggambarkan bagaimana wawasan AI dapat membantu guru sambil memprioritaskan aksesibilitas dan empati.
    <div></div>
  </footer>

  <script>
    // Mock data for the demo
    const mockStudent = {
      name: "Alex Morgan",
      grade: 6,
      learningStyle: {
        visual: 62,
        auditory: 18,
        kinesthetic: 20
      },
      engagement: "Sedang", // Rendah / Sedang / Tinggi
      scorePercent: 78,
      trend: "Meningkat", // Meningkat / Stabil / Menurun
      accessibility: {
        signLanguage: true
      }
    };

    // Utility: typewriter effect for demo outputs
    function typewriter(element, text, opts = {}) {
      const speed = opts.speed ?? 25;
      element.textContent = "";
      element.classList.add("typewriter");
      let i = 0;
      const id = setInterval(() => {
        element.textContent += text.charAt(i);
        i++;
        if (i >= text.length) {
          clearInterval(id);
          element.classList.remove("typewriter");
        }
      }, speed);
    }

    // Map recommended teaching approach for each dominant style
    const approachMap = {
      visual: {
        approach: "Tunjukkan-gambar-jelaskan",
        adjustments: [
          "Gunakan diagram beranotasi dan infografis",
          "Ganti blok teks panjang dengan visual langkah demi langkah",
          "Tawarkan ringkasan visual yang dapat dicetak untuk ditinjau"
        ]
      },
      auditory: {
        approach: "Penjelasan lisan & rekap",
        adjustments: [
          "Sertakan panduan naratif singkat",
          "Dorong diskusi teman sebaya dan rekap audio",
          "Tambahkan penjelasan lisan opsional dan teks"
        ]
      },
      kinesthetic: {
        approach: "Praktik langsung & interaktif",
        adjustments: [
          "Tambahkan tugas interaktif singkat dan manipulatif",
          "Pecah pelajaran menjadi mini-aktivitas gaya laboratorium",
          "Berikan petunjuk berbasis gerakan untuk memperkuat konsep"
        ]
      }
    };

    // Generate a realistic-sounding AI insight (mock)
    function generateAIInsight(student) {
      // Determine dominant style
      const styles = student.learningStyle;
      const pairs = Object.entries(styles);
      pairs.sort((a,b) => b[1] - a[1]);
      const dominant = pairs[0][0];
      const conf = Math.round(60 + Math.random() * 35); // 60-95%
      const engagement = student.engagement;

      // Compose natural-sounding recommendation text
      const observations = [
        `Pola dalam respons tugas menunjukkan preferensi untuk isyarat ${dominant}.`,
        `Keterlibatan telah ${engagement.toLowerCase()} selama aktivitas multi-langkah.`,
        `Waktu respons lebih cepat ketika materi menyertakan struktur visual yang jelas.`
      ];
      const suggested = {
        visual: "Prioritaskan diagram, contoh yang disorot, dan peta konsep. Rekap visual singkat setelah setiap tujuan kemungkinan akan meningkatkan retensi.",
        auditory: "Sertakan ringkasan naratif singkat dan dorong diskusi baca-lantang. Petunjuk audio yang terkait dengan tugas dapat meningkatkan fokus.",
        kinesthetic: "Tambahkan aktivitas praktik singkat dan interaksi fisik singkat (misalnya, tugas berbasis gerakan) untuk mengikat ide-ide abstrak."
      };

      const recommendationText = [
        observations.join(" "),
        suggested[dominant],
        "Langkah selanjutnya yang disarankan: tinjauan visual terpandu 10 menit dengan pertanyaan formatif."
      ].join(" ");

      return {
        dominant,
        confidence: conf,
        text: recommendationText,
        approach: approachMap[dominant].approach,
        adjustments: approachMap[dominant].adjustments
      };
    }

    // Render initial UI with mock data
    function render(student) {
      document.getElementById("today").textContent = new Date().toLocaleDateString('id-ID');

      // Engagement
      const badge = document.getElementById("engagementBadge");
      const engMap = { "Low": "Rendah", "Medium": "Sedang", "High": "Tinggi" };
      badge.textContent = engMap[student.engagement] || student.engagement;
      badge.className = "mt-1 inline-flex items-center px-3 py-1 rounded-full text-sm font-medium";
      if (student.engagement === "Tinggi" || student.engagement === "High") {
        badge.classList.add("bg-emerald-50","text-emerald-700");
      } else if (student.engagement === "Sedang" || student.engagement === "Medium") {
        badge.classList.add("bg-amber-50","text-amber-700");
      } else {
        badge.classList.add("bg-rose-50","text-rose-700");
      }

      // Learning style bars
      const vs = student.learningStyle;
      document.getElementById("visualPercent").textContent = vs.visual + "%";
      document.getElementById("auditoryPercent").textContent = vs.auditory + "%";
      document.getElementById("kinestheticPercent").textContent = vs.kinesthetic + "%";
      document.getElementById("visualBar").style.width = vs.visual + "%";
      document.getElementById("auditoryBar").style.width = vs.auditory + "%";
      document.getElementById("kinestheticBar").style.width = vs.kinesthetic + "%";

      // Performance
      document.getElementById("score").textContent = student.scorePercent + "%";
      document.getElementById("scoreBar").style.width = student.scorePercent + "%";
      const trendMap = { "Improving": "Meningkat", "Stable": "Stabil", "Declining": "Menurun" };
      document.getElementById("trendBadge").textContent = trendMap[student.trend] || student.trend;

      // Accessibility explanation copy
      document.getElementById("accessExplanation").textContent = "Untuk memastikan komunikasi inklusif, sistem AI secara otomatis mengaktifkan dukungan interpretasi bahasa isyarat untuk siswa ini.";

      // Initial AI insight
      const insight = generateAIInsight(student);
      applyAIInsight(insight);
    }

    // Apply generated insight to UI with subtle animations
    function applyAIInsight(insight) {
      // dominant style label
      const domMap = { visual: "Visual", auditory: "Auditori", kinesthetic: "Kinestetik" };
      document.getElementById("dominantStyle").textContent = domMap[insight.dominant];

      // confidence
      document.getElementById("confidence").textContent = insight.confidence + "%";

      // AI recommendation text (typewriter)
      const recEl = document.getElementById("aiRecommendation");
      typewriter(recEl, insight.text, { speed: 14 });

      // Teaching approach & adjustments
      document.getElementById("teachingApproach").textContent = insight.approach;
      const list = document.getElementById("contentAdjustments");
      list.innerHTML = "";
      insight.adjustments.forEach(item => {
        const li = document.createElement("li");
        li.textContent = item;
        list.appendChild(li);
      });
    }

    // Hook up Regenerate button to show new AI insight
    document.getElementById("refresh").addEventListener("click", () => {
      // Simulate small style/probability shifts for a realistic demo
      const jittered = JSON.parse(JSON.stringify(mockStudent));
      // small random changes
      const r = Math.floor(Math.random()*7) - 3; // -3..3
      jittered.learningStyle.visual = Math.max(10, Math.min(90, jittered.learningStyle.visual + r));
      // normalize others so sum ~100
      const remaining = 100 - jittered.learningStyle.visual;
      const split = Math.round(remaining * (Math.random() * 0.6 + 0.2));
      jittered.learningStyle.auditory = Math.max(5, Math.min(90, split));
      jittered.learningStyle.kinesthetic = 100 - jittered.learningStyle.visual - jittered.learningStyle.auditory;
      // change engagement randomly
      const e = ["Rendah","Sedang","Tinggi"][Math.floor(Math.random()*3)];
      jittered.engagement = e;
      // change score slightly
      jittered.scorePercent = Math.max(45, Math.min(98, jittered.scorePercent + (Math.floor(Math.random()*7)-3)));
      render(jittered);
    });

    // Sign Language Interpreter demo behaviour
    document.getElementById("activateInterpreter").addEventListener("click", () => {
      const out = document.getElementById("interpreterOutput");
      out.classList.remove("text-slate-400");
      // Simulated detection sentences to randomize demo
      const sampleResponses = [
        "AI mendeteksi respons siswa: 'Saya belum memahami topik ini.'",
        "AI mendeteksi respons siswa: 'Bisakah kita melihat contoh lain?'",
        "AI mendeteksi respons siswa: 'Ini lebih mudah dengan diagram.'",
        "AI mendeteksi respons siswa: 'Saya butuh istirahat sebentar.'"
      ];
      const msg = sampleResponses[Math.floor(Math.random()*sampleResponses.length)];
      // show with typewriter for realism
      typewriter(out, msg, { speed: 20 });
    });

    // Copy accessibility note
    document.getElementById("copyAccessibility").addEventListener("click", async () => {
      const note = document.getElementById("accessExplanation").textContent;
      try {
        await navigator.clipboard.writeText(note);
        const btn = document.getElementById("copyAccessibility");
        const prev = btn.innerHTML;
        btn.innerHTML = "Tersalin ✓";
        setTimeout(() => btn.innerHTML = prev, 1500);
      } catch (e) {
        alert("Tidak dapat menyalin — browser Anda mungkin memblokir akses clipboard.");
      }
    });

    // Initial render
    render(mockStudent);

    // Small accessibility: announce when page is ready
    window.addEventListener('load', () => {
      const main = document.querySelector('main');
      if (main) {
        main.setAttribute('tabindex', '-1');
      }
    });
  </script>
</body>
</html>
